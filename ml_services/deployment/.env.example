# NexusSentinel ML Services - Environment Configuration
# Copy this file to .env and customize as needed

#-----------------------------------------------
# REDIS CONFIGURATION
#-----------------------------------------------
# Redis connection settings
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
# Cache TTL in seconds
FINBERT_CACHE_TTL=3600

#-----------------------------------------------
# MODEL PATHS
#-----------------------------------------------
# Path to model files (relative to service directories)
FINBERT_MODEL_PATH=yiyanghkust/finbert-tone
LLAMA_MODEL_PATH=meta-llama/Meta-Llama-3-8B-Instruct
LIGHTGBM_MODEL_PATH=model/lgbm_model.pkl
TFT_MODEL_PATH=model/tft_best.ckpt

#-----------------------------------------------
# GPU CONFIGURATION
#-----------------------------------------------
# GPU settings for LLaMA service
NVIDIA_VISIBLE_DEVICES=all
# Quantization level (8bit or 4bit)
LLAMA_QUANTIZATION=8bit
# Maximum GPU memory to use in GB (0 for unlimited)
LLAMA_MAX_GPU_MEMORY=0

#-----------------------------------------------
# WEBSOCKET SERVER
#-----------------------------------------------
WEBSOCKET_HOST=0.0.0.0
WEBSOCKET_PORT=8004
WEBSOCKET_HEARTBEAT_INTERVAL=30

#-----------------------------------------------
# ZEROMQ CONFIGURATION
#-----------------------------------------------
ZMQ_PUBLISHER_HOST=0.0.0.0
ZMQ_PUBLISHER_PORT=5556
ZMQ_MESSAGE_INTERVAL=2.0

#-----------------------------------------------
# API ENDPOINTS (INTERNAL)
#-----------------------------------------------
# Internal service URLs (for service-to-service communication)
SENTIMENT_API_URL=http://sentiment_service:8000
LLAMA_API_URL=http://llama3_sentiment_service:8001
SIGNAL_API_URL=http://signal_generator:8002
FORECAST_API_URL=http://price_forecast_service:8003

#-----------------------------------------------
# LOGGING
#-----------------------------------------------
# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
# Enable detailed request logging
ENABLE_REQUEST_LOGGING=false

#-----------------------------------------------
# PERFORMANCE TUNING
#-----------------------------------------------
# Number of workers for each service
SENTIMENT_SERVICE_WORKERS=1
SIGNAL_GENERATOR_WORKERS=1
FORECAST_SERVICE_WORKERS=1
# Maximum batch size for inference
MAX_BATCH_SIZE=16
# Request timeout in seconds
REQUEST_TIMEOUT=30
