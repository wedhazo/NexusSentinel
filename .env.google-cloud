# .env.google-cloud - Environment Variables for NexusSentinel on Google Cloud

# --- Project Metadata ---
# These define basic information about your API.
PROJECT_NAME="NexusSentinel"
API_TITLE="NexusSentinel API"
API_DESCRIPTION="Stock Market Sentiment Analysis API"
API_VERSION="1.0.0"
API_PREFIX="/api/v1"

# --- Environment Settings ---
# Set to 'production' for deployment. Debug should be False in production.
ENVIRONMENT="production"
DEBUG=False

# --- API Server Settings ---
# API_HOST should be 0.0.0.0 for Docker/Cloud Run to listen on all interfaces.
# API_PORT is the port the FastAPI application runs on inside the container.
# Cloud Run typically exposes on 8080.
API_HOST="0.0.0.0"
API_PORT=8080
API_WORKERS=4
API_RELOAD=False # Set to False in production for stability

# --- Database Settings (Google Cloud SQL for PostgreSQL) ---
# Replace <YOUR_CLOUD_SQL_IP> with the actual IP address or instance connection name
# of your Cloud SQL instance. For Cloud Run, use the instance connection name.
# Example: /cloudsql/your-project-id:your-region:your-instance-name
DB_HOST="<YOUR_CLOUD_SQL_INSTANCE_CONNECTION_NAME_OR_IP>"
DB_PORT=5432
DB_USER="postgres" # Or your custom database user
DB_PASSWORD="<YOUR_SECURE_DB_PASSWORD>" # Set a strong password
DB_NAME="nexussentinel" # Or your custom database name
DB_SCHEMA="public"
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_ECHO=False # Set to False in production to avoid logging SQL queries

# Full DATABASE_URL for SQLAlchemy. Ensure this matches your Cloud SQL setup.
# For Cloud Run, use the instance connection name in the host part.
# Example: postgresql+asyncpg://postgres:YOUR_PASSWORD@/nexussentinel?host=/cloudsql/your-project-id:your-region:your-instance-name
DATABASE_URL="postgresql+asyncpg://${DB_USER}:${DB_PASSWORD}@/${DB_NAME}?host=${DB_HOST}"

# --- Security Settings ---
# IMPORTANT: Replace with a strong, randomly generated key (at least 32 characters).
# Use Google Secret Manager for this in production.
SECRET_KEY="replace_with_a_very_long_and_secure_random_string_for_production_use"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# --- CORS Settings ---
# Specify the origins that are allowed to access your API.
# Include your frontend's deployed URL (e.g., from Cloud Storage or custom domain).
# Example: https://storage.googleapis.com,https://your-frontend-domain.com
CORS_ORIGINS="https://storage.googleapis.com,http://localhost:3000" # Add your actual deployed frontend URL here

# --- Rate Limiting (if enabled in app/main.py) ---
RATE_LIMIT_ENABLED=True
RATE_LIMIT_DEFAULT=100
RATE_LIMIT_PERIOD_SECONDS=60

# --- Logging Configuration ---
LOG_LEVEL="INFO" # Set to "WARNING" or "ERROR" in production for less verbosity
LOG_FORMAT="json" # Use JSON format for easier parsing by cloud logging services
LOG_FILE="logs/nexussentinel.log" # This path is relative to the container's /app directory

# --- External Services API Keys (Optional) ---
# Replace with your actual API keys if you use these services.
SENTIMENT_API_KEY=""
MARKET_DATA_API_URL=""
MARKET_DATA_API_KEY=""

# --- Feature Flags ---
# Enable or disable features as needed.
ENABLE_SENTIMENT_ANALYSIS=True
ENABLE_TECHNICAL_INDICATORS=True
ENABLE_SOCIAL_MEDIA_TRACKING=True
ENABLE_NEWS_TRACKING=True
